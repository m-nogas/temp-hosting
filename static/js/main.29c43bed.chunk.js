(this["webpackJsonpcandor-web"]=this["webpackJsonpcandor-web"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"dialogueActions":{"get":"GET_DIALOGUE"},"postActions":{"getAll":"GET_POSTS"}}')},20:function(e){e.exports=JSON.parse('{"DownloadPrompt":{"joinConversation":"Join the conversation!","downloadPrompt":"Download Candor to comment, like, and start your own conversations"},"Errors":{"documentFetchError":"Error getting document: "}}')},49:function(e,t,a){},50:function(e,t,a){},71:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(17),s=a.n(r),o=(a(48),a(49),a(50),a(82)),i=a(83),l=a(84),d=a(85),u=a(36),p=a.n(u),j=(a(71),a(5)),h=function(e){var t="https://stream.mux.com/"+e.post.asset.playback_ids[0].id+".m3u8";return Object(j.jsx)("div",{className:"player-wrapper",children:Object(j.jsx)(p.a,{className:"react-player",url:t,width:"100%",height:"100%",controls:!0})})},g=function(e){return e.postsList?Object(j.jsx)("div",{style:{height:"100%"},children:Object(j.jsx)(d.a,{interval:null,className:"candor-carousel",children:e.postsList.map((function(e){return Object(j.jsx)(d.a.Item,{className:"candor-carousel",children:Object(j.jsx)(h,{post:e})})}))})}):Object(j.jsx)("div",{})},b=function(e){return e.dialogueMetaData?Object(j.jsxs)("div",{className:"d-flex align-items-start flex-column",style:{height:"100%"},children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"candor-bold",children:[e.dialogueMetaData.poster.displayName," / ",e.dialogueMetaData.partner.displayName]}),Object(j.jsx)("p",{className:"h2",children:e.dialogueMetaData.caption}),Object(j.jsxs)("p",{className:"font-weight-light",children:[e.dialogueMetaData.numberOfPosts," responses"]})]}),Object(j.jsx)("div",{className:"mt-auto",children:Object(j.jsx)("img",{alt:"Candor logo",src:"./images/CandorIcon.svg"})})]}):Object(j.jsx)("div",{})},m=a(20),f=m.DownloadPrompt,O=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"h2",children:f.joinConversation}),Object(j.jsx)("p",{className:"font-weight-light",children:f.downloadPrompt}),Object(j.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.talkcandor&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",children:Object(j.jsx)("img",{className:"candor-android-badge",alt:"Get it on Google Play",src:"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"})}),Object(j.jsx)("a",{href:"https://apps.apple.com/ca/app/candor-talk/id1552310457",children:Object(j.jsx)("img",{className:"candor-apple-badge",alt:"Get it on the App Store",src:"./images/AppleBadge.svg"})})]})},x=a(22),v=a(19);var w=function(){var e=Object(x.c)((function(e){return e.dialogueMetaData})),t=Object(x.c)((function(e){return e.posts})),a=Object(x.b)(),n=window.location.href.split("/").slice(-1)[0];return n&&(a(function(e){return{type:v.dialogueActions.get,id:e}}(n)),a(function(e){return{type:v.postActions.getAll,id:e}}(n))),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(o.a,{fluid:!0,className:"candor-container",children:Object(j.jsxs)(i.a,{className:"candor-row",children:[Object(j.jsx)(l.a,{xs:12,md:4,className:"candor-col-height",children:Object(j.jsx)(b,{dialogueMetaData:e})}),Object(j.jsx)(l.a,{xs:12,md:4,className:"candor-col-height",children:Object(j.jsx)(g,{postsList:t})}),Object(j.jsx)(l.a,{xs:12,md:4,className:"text-center d-flex align-items-end candor-col-height pb-5",children:Object(j.jsx)(O,{})})]})})})},N=a(27),y=a(21),A=a.n(y),E=a(25),D=a(26),M=a(42).a.initializeApp({apiKey:"AIzaSyAv7eFr7Liibpzuh0ySf12-AOg7W0USIWM",authDomain:"candor-stage.firebaseapp.com",databaseURL:"https://candor-stage.firebaseio.com",projectId:"candor-stage",storageBucket:"candor-stage.appspot.com",messagingSenderId:"334034284537",appId:"1:334034284537:web:4a15feb23ae2e522475728",measurementId:"G-MT76E9PSTY"}).firestore(),S=m.Errors;var I=function(e){var t=Object(n.useState)(null),a=Object(D.a)(t,2),c=a[0],r=a[1],s=function(){var t=Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.collection("dialogues").doc(e).get().then((function(e){var t=e.data();r(t)})).catch((function(e){console.error(S.documentFetchError,e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c},k=v.dialogueActions,P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.get:var a=I(t.id);return void 0===a?e:a;default:return e}},G=m.Errors;var _=function(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],r=a[1],s=function(){var t=Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.collection("posts").where("dialogueId","==",e).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));r(t)})).catch((function(e){console.error(G.documentFetchError,e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c},L=v.postActions,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.getAll:var a=_(t.id);return a;default:return e}},C=Object(N.a)({dialogueMetaData:P,posts:T}),J=Object(N.b)(C);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x.a,{store:J,children:Object(j.jsx)(w,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.29c43bed.chunk.js.map