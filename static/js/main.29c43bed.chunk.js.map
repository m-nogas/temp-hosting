{"version":3,"sources":["components/VideoPlayer/PostPlayer.jsx","components/PostCarousel.js","components/DialogueInfoCard.js","components/DownloadPrompt.js","App.js","actions/index.js","config files/FirebaseConfig.js","network services/DialogueService.js","network services/BaseService.js","reducers/dialogueReducer.js","network services/PostService.js","reducers/postReducer.js","reducers/index.js","index.js"],"names":["PostPlayer","props","url","post","asset","playback_ids","id","className","width","height","controls","PostCarousel","postsList","style","Carousel","interval","map","Item","DialogueInfoCard","dialogueMetaData","poster","displayName","partner","caption","numberOfPosts","alt","src","library","StringLibrary","DownloadPrompt","joinConversation","downloadPrompt","href","App","useSelector","state","posts","dispatch","useDispatch","dialogueID","window","location","split","slice","type","actionStrings","dialogueActions","get","getDialogue","postActions","getAll","getPosts","Container","fluid","Row","Col","xs","md","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","errorStrings","GetDialogue","useState","dialogue","setDialogue","fetchDialogue","a","collection","doc","then","docSnapshot","data","catch","error","console","documentFetchError","useEffect","dialogueReducer","action","undefined","GetPosts","setPosts","fetchPosts","where","querySnapshot","dataList","docs","postsReducer","allReducers","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29c43bed.chunk.js","sourcesContent":["import ReactPlayer from 'react-player';\nimport './post-player.css';\n\n\nconst muxURLPrefix = \"https://stream.mux.com/\";\nconst videoFileType = \".m3u8\";\n\nconst PostPlayer = (props) => {\n  const url = muxURLPrefix + props.post.asset.playback_ids[0].id + videoFileType;\n    return (\n      <div className='player-wrapper'>\n        <ReactPlayer\n          className='react-player'\n          url={url}\n          width='100%'\n          height='100%'\n          controls={true}\n        />\n      </div>\n    )\n}\n\nexport default PostPlayer;","import { Carousel } from 'react-bootstrap';\nimport PostPlayer from './VideoPlayer/PostPlayer.jsx';\nimport './VideoPlayer/PostPlayer.jsx';\n\nconst PostCarousel = (props) => {\n  if (props.postsList) {\n    return (\n      <div style={{height: '100%'}}>\n          <Carousel interval={null} className=\"candor-carousel\">\n            {\n              props.postsList.map( post => {\n                return (\n                  <Carousel.Item className=\"candor-carousel\">\n                    <PostPlayer post={post} />\n                  </Carousel.Item>\n                )\n              })\n            }\n          </Carousel>\n        </div>\n    )\n  } else {\n    return (\n      // TODO: Find a petter way to return this\n      <div></div>\n    )\n  }\n}\n\nexport default PostCarousel;\n","const DialogueInfoCard = (props) => {\n  if (props.dialogueMetaData) {\n    return (\n      <div className=\"d-flex align-items-start flex-column\" style={{height: '100%'}}>\n          <div>\n            <p className=\"candor-bold\">{props.dialogueMetaData.poster.displayName} / {props.dialogueMetaData.partner.displayName}</p>\n            <p className=\"h2\">{props.dialogueMetaData.caption}</p>\n            <p className=\"font-weight-light\">{props.dialogueMetaData.numberOfPosts} responses</p>\n          </div>\n          <div className=\"mt-auto\">\n            <img alt='Candor logo' src='./images/CandorIcon.svg'/>\n          </div>\n      </div>\n  )\n  } else {\n    // TODO: find a better way for undefined response\n    return (\n      <div></div>\n    )\n  }\n}\n\nexport default DialogueInfoCard;\n","import StringLibrary from '../Libraries/StringLibrary.json';\n\nconst library = StringLibrary.DownloadPrompt;\n\nconst DownloadPrompt = () => {\n    return (\n        <div>\n          <p className=\"h2\">{library.joinConversation}</p>\n          <p className=\"font-weight-light\">{library.downloadPrompt}</p>\n          <a href='https://play.google.com/store/apps/details?id=com.talkcandor&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'><img className=\"candor-android-badge\" alt='Get it on Google Play' src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'/></a>\n          <a href='https://apps.apple.com/ca/app/candor-talk/id1552310457'><img className=\"candor-apple-badge\" alt='Get it on the App Store' src='./images/AppleBadge.svg'/></a>\n        </div>\n    )\n}\n\nexport default DownloadPrompt;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './CandorClasses.css';\nimport './BootstrapCustomizations.css';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport DialogueCarousel from './components/PostCarousel';\nimport DialogueInfoCard from './components/DialogueInfoCard';\nimport DownloadPrompt from './components/DownloadPrompt';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getDialogue, getPosts } from './actions';\n\n// Column layout constants\nconst colXs = 12;\nconst colMd = 4;\n\nfunction App() {\n  const dialogueMetaData = useSelector(state => state.dialogueMetaData);\n  const postsList = useSelector(state => state.posts);\n  const dispatch = useDispatch();\n\n  // TODO: this is bad, we should use proper routing. \n  const dialogueID = getDialogueIDFromURL(window.location.href);\n  if (dialogueID) {\n    dispatch(getDialogue(dialogueID));\n    dispatch(getPosts(dialogueID));\n  }\n  return (\n    <div className=\"App\">\n      <Container fluid className=\"candor-container\">\n        <Row className=\"candor-row\" >\n          <Col xs={colXs} md={colMd} className=\"candor-col-height\">\n           <DialogueInfoCard dialogueMetaData={dialogueMetaData}/>\n          </Col>\n          <Col xs={colXs} md={colMd} className=\"candor-col-height\">\n            <DialogueCarousel postsList={postsList} />\n          </Col>\n          <Col xs={colXs} md={colMd} className=\"text-center d-flex align-items-end candor-col-height pb-5\">\n            <DownloadPrompt />\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nfunction getDialogueIDFromURL(urlString) {\n  return urlString.split(\"/\").slice(-1)[0];\n}\n\nexport default App;\n","import actionStrings from './actionStrings.json';\n\nexport const getDialogue = dialogueID => ({\n    type: actionStrings.dialogueActions.get,\n    id: dialogueID\n});\n\nexport const getPosts = dialogueID => ({\n    type: actionStrings.postActions.getAll,\n    id: dialogueID\n});","import firebase from 'firebase';\n\nconst firebaseConfigStaging = {\n    apiKey: \"AIzaSyAv7eFr7Liibpzuh0ySf12-AOg7W0USIWM\",\n    authDomain: \"candor-stage.firebaseapp.com\",\n    databaseURL: \"https://candor-stage.firebaseio.com\",\n    projectId: \"candor-stage\",\n    storageBucket: \"candor-stage.appspot.com\",\n    messagingSenderId: \"334034284537\",\n    appId: \"1:334034284537:web:4a15feb23ae2e522475728\",\n    measurementId: \"G-MT76E9PSTY\"\n  };\n\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfigStaging);\nconst db = firebaseApp.firestore();\n\nexport default db;","import db from '../config files/FirebaseConfig.js';\nimport {useState,useEffect} from 'react';\nimport * as baseService from './BaseService.js';\nimport * as StringLibrary from '../Libraries/StringLibrary.json';\n\nconst errorStrings = StringLibrary.Errors;\n\n  function GetDialogue(dialogueID) {\n    const [dialogue,setDialogue] = useState(null);\n    const fetchDialogue = async() => {\n        await db.collection(baseService.dialogueCollection).doc(dialogueID)\n        .get()\n        .then(docSnapshot => {\n            let data = docSnapshot.data();\n            setDialogue(data);\n        })\n        .catch(function(error) {\n            console.error(errorStrings.documentFetchError, error);\n        });\n    }\n\n    useEffect(() => {\n        fetchDialogue();\n    }, [])\n\n    return dialogue\n  }\n  \nexport default GetDialogue;\n","// list of collections: -\nexport const dialogueCollection = 'dialogues';\nexport const postCollection = 'posts';\n\n// list of fields: - \nexport const postDialogueIDField = \"dialogueId\";\n\n// list of operations: -\nexport const isEqualToOperation = \"==\";","import actionStrings from '../actions/actionStrings.json';\nimport GetDialogue from '../network services/DialogueService.js';\n\nconst dialogueActions = actionStrings.dialogueActions;\n\nconst dialogueReducer = (state = null, action) => {\n    switch (action.type) {\n        case dialogueActions.get:\n            const dialogue = GetDialogue(action.id);\n            \n            return dialogue === undefined ? state : dialogue;\n        default:\n            return state;\n    }\n}\n\nexport default dialogueReducer;","import db from '../config files/FirebaseConfig.js';\nimport {useState,useEffect} from 'react';\nimport * as BaseService from './BaseService.js';\nimport * as StringLibrary from '../Libraries/StringLibrary.json';\n\nconst errorStrings = StringLibrary.Errors;\n\nfunction GetPosts(dialogueID) {\n    const [posts, setPosts] = useState([]);\n\n    const fetchPosts = async() => {\n        await db.collection(BaseService.postCollection)\n        .where(BaseService.postDialogueIDField, BaseService.isEqualToOperation, dialogueID)\n        .get()\n        .then(querySnapshot => {\n            const dataList = querySnapshot.docs.map(doc => doc.data());\n            setPosts(dataList);\n        })\n        .catch(function(error) {\n            console.error(errorStrings.documentFetchError, error);\n        }); \n    }\n\n    useEffect(() => {\n        fetchPosts();\n    }, []);\n\n    return posts\n}\n\n\nexport default GetPosts;","import actionStrings from '../actions/actionStrings.json';\nimport GetPosts from '../network services/PostService.js';\n\nconst postActions = actionStrings.postActions;\n\nconst postsReducer = (state = null, action) => {\n    switch (action.type) {\n        case postActions.getAll:\n            const posts = GetPosts(action.id);\n            \n            return posts\n        default:\n            return state;\n    }\n}\n\nexport default postsReducer;","import dialogueReducer from './dialogueReducer';\nimport postsReducer from './postReducer';\nimport { combineReducers } from 'redux';\n\nconst allReducers = combineReducers({\n    dialogueMetaData: dialogueReducer,\n    posts: postsReducer\n});\n\nexport default allReducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport allReducers from './reducers';\n\nconst store = createStore(allReducers);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}